/* YouTube on Twitch - Styles */

/* CSS Custom Properties */
:root {
    /* Primary Colors */
    --ytot-purple: #9147ff;
    --ytot-purple-hover: #772ce8;
    --ytot-purple-light: #bf94ff;

    /* Status Colors */
    --ytot-success: #00c853;
    --ytot-success-hover: #00a843;
    --ytot-error: #ff5252;
    --ytot-warning: #ffab00;
    --ytot-info: #1f69ff;
    --ytot-info-hover: #0050e6;

    /* Background Colors */
    --ytot-bg-primary: #18181b;
    --ytot-bg-secondary: #0e0e10;
    --ytot-bg-tertiary: #1f1f23;
    --ytot-bg-hover: #2f2f35;
    --ytot-bg-button: #3a3a3d;
    --ytot-bg-button-hover: #4a4a4d;

    /* Text Colors */
    --ytot-text-primary: #efeff1;
    --ytot-text-secondary: #dedee3;
    --ytot-text-muted: #adadb8;
    --ytot-text-placeholder: #636369;

    /* Border Colors */
    --ytot-border: #3a3a3d;
    --ytot-border-section: #2f2f35;
}

/* Nav Button Wrapper */
#ytot-nav-wrapper {
    position: relative;
    display: flex;
    align-items: center;
    margin-inline-start: 10px;
}

/* Main Nav Button */
.ytot-nav-btn {
    display: flex;
    align-items: center;
    gap: 5px;
    padding: 8px 12px;
    background: transparent;
    border: none;
    border-radius: 6px;
    color: var(--ytot-text-secondary);
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.15s ease;

    &:hover {
        background: rgb(83 83 95 / 0.48);
        color: white;
    }

    &.active {
        color: var(--ytot-purple-light);
    }
}

.ytot-icon {
    font-size: 12px;
}

/* Dropdown Panel */
.ytot-dropdown {
    display: none;
    position: absolute;
    top: calc(100% + 8px);
    left: 0;
    width: 300px;
    background: var(--ytot-bg-primary);
    border-radius: 8px;
    box-shadow: 0 4px 20px rgb(0 0 0 / 0.6);
    z-index: 9999;

    &.visible {
        display: block;
    }
}

/* Dropdown Header */
.ytot-dropdown-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 14px;
    background: var(--ytot-bg-secondary);
    color: var(--ytot-text-primary);
    font-size: 13px;
    font-weight: 600;
}

.ytot-close {
    background: none;
    border: none;
    color: var(--ytot-text-muted);
    font-size: 20px;
    cursor: pointer;
    padding: 0;
    line-height: 1;

    &:hover {
        color: white;
    }
}

/* Dropdown Body */
.ytot-dropdown-body {
    display: flex;
    gap: 8px;
    padding: 12px 14px;
}

#ytot-url {
    flex: 1;
    padding: 10px 12px;
    background: var(--ytot-bg-secondary);
    border: 1px solid var(--ytot-border);
    border-radius: 6px;
    color: var(--ytot-text-primary);
    font-size: 13px;
    outline: none;

    &:focus {
        border-color: var(--ytot-purple);
    }

    &::placeholder {
        color: var(--ytot-text-placeholder);
    }
}

.ytot-go {
    padding: 10px 16px;
    background: var(--ytot-purple);
    border: none;
    border-radius: 6px;
    color: white;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.15s;

    &:hover {
        background: var(--ytot-purple-hover);
    }
}

/* Options Section */
.ytot-options {
    padding: 8px 14px;
    border-top: 1px solid var(--ytot-border-section);
}

.ytot-option {
    display: flex;
    align-items: center;
    gap: 8px;
    color: var(--ytot-text-muted);
    font-size: 12px;
    cursor: pointer;

    &:hover {
        color: var(--ytot-text-primary);
    }

    & input[type="checkbox"] {
        accent-color: var(--ytot-purple);
    }
}

.ytot-select {
    background: var(--ytot-bg-secondary);
    border: 1px solid var(--ytot-border);
    border-radius: 4px;
    color: var(--ytot-text-primary);
    font-size: 12px;
    padding: 4px 8px;
    outline: none;
    cursor: pointer;

    &:focus {
        border-color: var(--ytot-purple);
    }
}

/* Actions Section */
.ytot-actions {
    display: flex;
    gap: 8px;
    padding: 10px 14px;
    border-top: 1px solid var(--ytot-border-section);
}

:is(.ytot-sync-now, .ytot-restore) {
    display: none;
    flex: 1;
    padding: 8px 12px;
    border: none;
    border-radius: 4px;
    font-size: 12px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.15s;
}

.ytot-sync-now {
    background: var(--ytot-info);
    color: white;

    &:hover {
        background: var(--ytot-info-hover);
    }
}

.ytot-restore {
    background: var(--ytot-bg-button);
    color: var(--ytot-text-muted);

    &:hover {
        background: var(--ytot-bg-button-hover);
        color: var(--ytot-text-primary);
    }
}

/* Status */
.ytot-status {
    padding: 0 14px 12px;
    font-size: 11px;
    color: var(--ytot-text-muted);
    min-height: 14px;

    &:empty {
        display: none;
    }

    &.ytot-status-success {
        color: var(--ytot-success);
    }

    &.ytot-status-error {
        color: var(--ytot-error);
    }

    &.ytot-status-syncing {
        color: var(--ytot-info);
    }
}

/* YouTube Player Wrapper */
#ytot-youtube-wrapper {
    position: absolute;
    inset: 0;
    z-index: 9999;
    background: black;
}

#ytot-youtube-player {
    width: 100%;
    height: 100%;
    border: none;
}

#ytot-player-theater {
    position: absolute;
    inset-block-end: 3px;
    inset-inline-end: 205px;
    z-index: 10000;
    color: white;
    border: none;
    border-radius: 4px;
    padding: 5px;
    cursor: pointer;
    font-size: 18px;
    opacity: 0;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;

    &.ytot-visible {
        opacity: 0.9;

        &:hover {
            opacity: 1;
            transform: scale(1.1);
        }
    }
}

/* Transparent overlay to capture mouse events over cross-origin iframe */
#ytot-mouse-overlay {
    position: absolute;
    inset: 0;
    z-index: 9999;
    pointer-events: none;
    cursor: default;

    &.ytot-active {
        pointer-events: auto;
    }
}

/* Auto-Find Section */
.ytot-autofind {
    padding: 12px 14px;
    border-bottom: 1px solid var(--ytot-border-section);
}

.ytot-autofind-btn {
    width: 100%;
    padding: 10px 14px;
    background: linear-gradient(135deg, #ff0000 0%, #cc0000 100%);
    border: none;
    border-radius: 6px;
    color: white;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.15s;

    &:hover {
        background: linear-gradient(135deg, #ff3333 0%, #dd0000 100%);
        transform: translateY(-1px);
    }
}

.ytot-divider {
    text-align: center;
    padding: 8px 14px;
    color: var(--ytot-text-placeholder);
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* Search Results */
.ytot-search-result {
    padding: 0 14px 12px;
}

:is(.ytot-searching, .ytot-no-result) {
    font-size: 12px;
    text-align: center;
    padding: 8px;
}

.ytot-searching {
    color: var(--ytot-text-muted);
}

.ytot-no-result {
    color: var(--ytot-error);
}

.ytot-result-card {
    background: var(--ytot-bg-tertiary);
    border-radius: 6px;
    padding: 10px;
    margin-block-start: 10px;
}

.ytot-result-note {
    color: var(--ytot-warning);
    font-size: 11px;
    margin-block-end: 6px;
}

.ytot-result-title {
    color: var(--ytot-text-primary);
    font-size: 13px;
    font-weight: 500;
    margin-block-end: 4px;
    line-height: 1.3;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
}

.ytot-result-channel {
    color: var(--ytot-text-muted);
    font-size: 11px;
    margin-block-end: 10px;
}

.ytot-result-use {
    width: 100%;
    padding: 8px;
    background: var(--ytot-success);
    border: none;
    border-radius: 4px;
    color: white;
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.15s;

    &:hover {
        background: var(--ytot-success-hover);
    }
}

/* History Section */
.ytot-history-section {
    display: none;
    padding: 0 14px;
    border-bottom: 1px solid var(--ytot-border-section);
}

.ytot-history-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 11px;
    color: var(--ytot-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-block: 8px;
}

.ytot-clear-history {
    background: none;
    border: none;
    color: var(--ytot-text-muted);
    font-size: 10px;
    cursor: pointer;
    padding: 2px 6px;
    border-radius: 4px;
    transition: all 0.15s;
    text-transform: uppercase;

    &:hover {
        color: var(--ytot-error);
        background: color-mix(in srgb, var(--ytot-error) 10%, transparent);
    }
}

.ytot-history-list {
    display: flex;
    flex-direction: column;
    gap: 4px;
    margin-block-end: 12px;
}

.ytot-history-item {
    padding: 8px;
    border-radius: 4px;
    cursor: pointer;
    transition: background 0.1s;

    &:hover {
        background: var(--ytot-bg-hover);
    }
}

.ytot-history-title {
    color: var(--ytot-text-primary);
    font-size: 12px;
    margin-block-end: 2px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.ytot-history-channel {
    color: var(--ytot-text-muted);
    font-size: 11px;
}
